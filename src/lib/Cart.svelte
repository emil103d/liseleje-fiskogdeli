<script>
	import { cart, count, products, tilkoebs } from '../stores/cart';
	import { fly, fade } from 'svelte/transition';

	console.log(count);

	const minusItem = (product) => {
		for (let item of $cart) {
			if (item.id === product.id) {
				product.quantity -= 1;
				$cart = $cart;
				return;
			}
		}
		$cart = [...$cart, product];
	};

	const plusItem = (product) => {
		for (let item of $cart) {
			if (item.id === product.id) {
				item.quantity += 1;
				$cart = $cart;
				return;
			}
		}
		$cart = [...$cart, product];
	};

	// console.log(subtotal);

	console.log($cart);

	let countValue;

	count.subscribe((value) => {
		countValue = value;
	});

	// // $: total = $cart.reduce((total, item) => total + item.price * item.quantity, 0) * countValue;
	// $: produktPris = $products.reduce((total, item) => item.price * countValue, 0);

	// $: produktPris2 = $tilkoebs.reduce((total, item) => item.price, 0);

	//$: total = $cart.reduce((total, item) => total + produktPris * item.quantity, 0); // $= “re-run this code whenever any of the referenced values change”.

	$: total = $cart.reduce((total, cartItem) => {
		let item = $cart.find((i) => i.id === cartItem.id);
		if (item.type === 'p') {
			return total + (item.price || 0) * cartItem.quantity * countValue;
		} else if (item.type === 't') {
			return total + (item.price || 0) * cartItem.quantity;
		}
	}, 0);

	console.log('total');

	let total;

	function toggleMenu() {
		if (document.getElementById('mobilevers').style.bottom == '80px') {
			document.getElementById('mobilevers').style.height = '53vh';
			document.getElementById('mobilevers').style.bottom = '7vh';
			document.getElementById('roter').style.transform = 'rotate(180deg)';
		} else {
			document.getElementById('mobilevers').style.bottom = '80px';
			document.getElementById('mobilevers').style.height = '11vh';
			document.getElementById('roter').style.transform = 'rotate(0deg)';
		}
	}
</script>

<section
	id="mobilevers"
	class="px-5 bg-white h-full skygge p-4 md:flex md:justify-between md:flex-col"
>
	<div>
		<button class="pil pr-3 pt-3 float-right md:hidden" on:click={toggleMenu}
			><svg
				id="roter"
				width="16"
				height="9"
				viewBox="0 0 16 9"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M7.69717 0.983701L14.7468 8.3227L15.3948 7.561L8.13185 0L7.69714 0.511046L7.2624 4.82916e-05L0 7.56165L0.647986 8.32331L7.69717 0.983701Z"
					fill="#1F425F"
				/>
			</svg>
		</button>
		<div class="pb-4 flex justify-between align-bottom">
			<div class="">
				<h3 class="text-darkblue font-bold pb-4">Mit tapasfad<b class="text-yellowdot">.</b></h3>
				<p class="mellemtekst">Til {countValue} personer</p>
			</div>
			<div class="total grid place-self-end md:hidden">
				<h4 class="font-bold">Total:{total} kr.</h4>
			</div>
		</div>

		<!-- <p>Der er {$cart.length} retter</p> -->
		<div class="h-[2px] w-20" />

		<div class="border-lightblue border-t-2 py-2" />
		<p class="font-semibold pb-2 mellemtekst">Tapasretter</p>

		<div class="cart-list md:grid-rows gap-2 justify-between overflow-scroll md:overflow-hidden">
			{#each $cart as item}
				{#if item.quantity > 0 && item.type == 'p'}
					<div class="cart-item gap-2 pt-2 md:pt-0">
						<img
							class="w-full h-full aspect-square mindrebillede"
							width=""
							src={item.image}
							alt={item.name}
						/>
						<p class="grid items-center lilletekst">{item.title}</p>
						<div class="flex gap-1 justify-end items-center m-auto lilletekst">
							<button
								class="place-content-center grid justify-center  items-center"
								on:click={() => minusItem(item)}
							>
								<svg
									width="12"
									height="12"
									viewBox="0 0 22 21"
									fill="none"
									xmlns="http://www.w3.org/2000/svg"
								>
									<path
										d="M12.1084 11.5179C12.2184 11.5179 12.3384 11.5179 12.4484 11.5179C12.3484 11.6279 12.2384 11.7179 12.1184 11.8079C12.1184 11.7079 12.1184 11.6179 12.1084 11.5179Z"
										fill="#1F435F"
									/>
									<path
										d="M12.0584 9.86787C12.0584 9.47787 12.0484 9.09787 12.0384 8.70787C12.0384 8.67787 12.0384 8.64787 12.0384 8.61787C12.0384 8.61787 12.0384 8.61787 12.0384 8.60787C12.0384 8.59787 12.0384 8.57787 12.0384 8.56787C12.4784 8.86787 12.7984 9.34787 12.8984 9.86787C12.6184 9.86787 12.3384 9.86787 12.0584 9.86787Z"
										fill="#1F435F"
									/>
									<path
										d="M9.55844 11.5079C9.64844 11.5079 9.74844 11.5079 9.83844 11.5079C9.83844 11.6079 9.84844 11.7079 9.85844 11.7979C9.74844 11.7079 9.64844 11.6079 9.55844 11.5079Z"
										fill="#1F435F"
									/>
									<path
										d="M9.50843 9.87787C9.37843 9.87787 9.23844 9.87787 9.10844 9.87787C9.17844 9.48787 9.35843 9.14787 9.61843 8.87787C9.64843 9.20787 9.67844 9.53787 9.70844 9.86787C9.63844 9.86787 9.57843 9.86787 9.50843 9.86787V9.87787Z"
										fill="#1F435F"
									/>
									<path
										d="M0.708435 10.4779C1.03844 -3.30213 21.1584 -3.28213 21.4484 10.5079C21.2984 17.1079 16.6084 20.5479 11.7384 20.8179C6.41843 21.1179 0.868437 17.6679 0.718437 10.4679L0.708435 10.4779ZM9.59843 16.7479C9.63843 17.5379 10.3384 18.1779 11.1284 18.1279C11.9284 18.0779 12.5584 17.3979 12.5084 16.5979C12.4684 15.8079 11.7684 15.1679 10.9784 15.2179C10.1784 15.2679 9.54843 15.9479 9.59843 16.7479ZM9.90844 12.6379C9.93844 13.2379 10.5084 13.6979 11.0884 13.6679C11.0984 13.6679 11.1084 13.6679 11.1284 13.6679C11.7484 13.6179 12.1984 13.0679 12.1584 12.4479C12.1384 12.1379 12.1184 11.8179 12.1084 11.5079C12.2884 11.5079 12.4684 11.5079 12.6384 11.5079C13.7384 11.5079 14.8484 11.4179 15.9484 11.5079C16.0884 11.5179 16.2284 11.5379 16.3684 11.5279C16.3684 11.5279 16.3884 11.5279 16.3984 11.5279C16.8684 11.4979 17.2084 11.0479 17.1684 10.5879C17.1284 10.1579 16.7684 9.84787 16.3484 9.81787C16.2184 9.80787 16.0984 9.81787 15.9784 9.82787C15.9084 9.82787 15.8284 9.84787 15.7584 9.84787C15.5684 9.84787 15.3684 9.86787 15.1784 9.87787C15.2184 9.87787 15.2484 9.87787 15.2884 9.87787C14.9284 9.88787 14.5784 9.87787 14.2284 9.87787C13.5084 9.86787 12.7884 9.85787 12.0584 9.85787C12.0584 9.43787 12.0384 9.01787 12.0384 8.59787C12.0384 8.64787 12.0384 8.70787 12.0384 8.75787C12.0384 8.62787 12.0384 8.50787 12.0384 8.37787C12.0284 8.00787 12.0384 7.63787 12.0184 7.27787C11.9984 6.86787 12.0084 6.44787 11.9684 6.03787C11.9084 5.36787 11.7884 4.70787 11.6884 4.04787C11.5984 3.49787 11.4984 2.66787 10.8684 2.46787C10.7584 2.42787 10.6384 2.40787 10.5184 2.41787C10.3984 2.41787 10.2784 2.45787 10.1684 2.50787C10.1684 2.50787 10.1684 2.50787 10.1784 2.50787C9.80844 2.66787 9.64844 3.09787 9.56844 3.46787C9.47844 3.93787 9.44844 4.40787 9.42844 4.88787C9.40844 5.24787 9.39843 5.59787 9.39843 5.95787C9.39843 6.28787 9.42844 6.61787 9.45844 6.94787C9.47844 7.29787 9.50844 7.65787 9.55844 8.01787C9.55844 7.95787 9.54844 7.90787 9.53844 7.84787C9.60844 8.52787 9.66844 9.20787 9.72844 9.87787C9.65844 9.87787 9.59843 9.87787 9.52843 9.87787C8.66843 9.87787 7.80844 9.85787 6.94844 9.87787C6.65844 9.87787 6.35843 9.87787 6.07843 9.91787C6.01843 9.91787 5.95843 9.91787 5.89843 9.92787C5.72843 9.92787 5.53843 9.94787 5.39843 10.0079C5.39843 10.0079 5.40843 10.0079 5.41843 10.0079C5.10843 10.1179 4.89844 10.4279 4.92844 10.7779C4.95844 11.0779 5.16844 11.3179 5.44844 11.3979C5.45844 11.3979 5.47843 11.3979 5.48843 11.4079C5.52843 11.4079 5.56843 11.4279 5.59843 11.4279C5.67843 11.4379 5.76843 11.4379 5.84843 11.4479C5.98843 11.4579 6.12844 11.4779 6.26844 11.4879C6.64844 11.5179 7.03844 11.5079 7.42844 11.5079C8.23844 11.5079 9.04844 11.5079 9.85844 11.5079C9.88844 11.8879 9.90844 12.2679 9.92844 12.6479L9.90844 12.6379Z"
										fill="#1F435F"
									/>
									<path
										d="M11.2184 2.73788C11.2184 2.73788 11.2184 2.73788 11.2184 2.74788C11.2184 2.74788 11.2184 2.73788 11.2084 2.73788H11.2184Z"
										fill="#1F435F"
									/>
									<path
										d="M9.81844 2.80788C9.81844 2.80788 9.81843 2.80788 9.82843 2.80788C9.82843 2.80788 9.81844 2.81787 9.81844 2.82787C9.81844 2.82787 9.81844 2.82787 9.81844 2.81787V2.80788Z"
										fill="#1F435F"
									/>
									<path
										d="M10.6684 18.4679C10.4884 18.3479 10.3484 18.1979 10.2384 18.0279C8.92844 17.2879 8.84844 15.2579 9.65844 14.0979C9.65844 14.0479 9.65844 13.9879 9.65844 13.9379C9.65844 13.7379 9.68844 13.5379 9.73844 13.3379C9.55844 12.7479 9.52844 12.1179 9.49844 11.4979C9.71844 11.4979 9.93844 11.4979 10.1684 11.4979C10.9984 11.4979 11.8284 11.4979 12.6484 11.4979C12.7284 11.4979 12.8084 11.4979 12.8884 11.4979C12.9984 11.7479 12.9584 12.0479 12.7684 12.2779C12.7584 12.2979 12.7384 12.3179 12.7284 12.3279C12.7284 12.5279 12.6484 12.7279 12.5284 12.8979C12.5484 12.9979 12.5484 13.0979 12.5284 13.1979C12.5284 13.2479 12.5184 13.2979 12.5084 13.3479C12.8884 13.7579 13.0084 14.3479 12.8184 14.8879C12.7984 14.9479 12.7784 14.9979 12.7484 15.0479C13.0584 15.3779 13.2084 15.8279 13.1584 16.2879C13.1584 16.3979 13.1284 16.5079 13.0984 16.6079C13.4684 17.6479 12.5684 18.6779 11.5984 18.7379C11.2884 18.7579 10.9684 18.6779 10.6784 18.4679H10.6684Z"
										fill="#1F435F"
									/>
									<path
										d="M9.50843 9.88786C9.50843 9.88786 9.40843 9.88786 9.36843 9.88786C8.86843 8.71786 8.42844 7.32786 8.67844 6.03786C8.35844 5.36786 8.64844 4.55786 9.01844 3.95786C9.27844 3.28786 9.68844 2.51786 10.4084 2.25786C12.0284 1.72786 13.2384 3.84786 12.3484 5.14786C12.7184 5.72786 12.7284 6.47786 12.4884 7.10786C12.6284 7.57786 12.4584 7.99786 12.4284 8.43786C12.5384 8.65786 12.5984 8.88787 12.6084 9.12787C12.7684 9.35787 12.8684 9.61787 12.9184 9.87787C11.7784 9.87787 10.6484 9.87787 9.50843 9.87787V9.88786Z"
										fill="#1F435F"
									/>
								</svg>
							</button>
							{item.quantity}
							<button
								class="place-content-center grid justify-center  items-center"
								on:click={() => plusItem(item)}
							>
								<svg
									width="12"
									height="12"
									viewBox="0 0 21 21"
									fill="none"
									xmlns="http://www.w3.org/2000/svg"
								>
									<path
										d="M11.4 11.3675C11.51 11.3675 11.63 11.3675 11.74 11.3675C11.64 11.4775 11.53 11.5675 11.41 11.6575C11.41 11.5575 11.41 11.4675 11.4 11.3675Z"
										fill="#1F435F"
									/>
									<path
										d="M11.39 9.72751C11.4 9.37751 11.42 9.02751 11.43 8.67751C11.43 8.61751 11.43 8.56751 11.43 8.50751C11.81 8.80751 12.09 9.24751 12.19 9.72751C11.92 9.72751 11.66 9.72751 11.39 9.72751V9.72751Z"
										fill="#1F435F"
									/>
									<path
										d="M8.85001 9.35751C8.94001 9.35751 9.04 9.35751 9.13 9.35751C9.13 9.45751 9.14 9.55752 9.15 9.64752C9.04 9.55752 8.94001 9.45751 8.85001 9.35751V9.35751Z"
										fill="#1F435F"
									/>
									<path
										d="M8.8 9.73752C8.67 9.73752 8.53 9.73752 8.4 9.73752C8.47 9.34752 8.65 9.00752 8.91 8.73752C8.94 9.06752 8.97 9.39752 9 9.72752C8.93 9.72752 8.87 9.72752 8.8 9.72752V9.73752Z"
										fill="#1F435F"
									/>
									<path
										d="M0 10.3275C0.33 -3.45249 20.45 -3.4425 20.74 10.3575C20.59 16.9575 15.9 20.3975 11.03 20.6775C10.82 20.6875 10.6 20.6975 10.39 20.6975C5.27 20.6975 0.15 17.2375 0 10.3275ZM8.89 16.5975C8.93 17.3875 9.63 18.0275 10.43 17.9775C11.23 17.9375 11.86 17.2475 11.81 16.4375C11.79 16.1275 11.68 15.8375 11.49 15.6075C11.49 15.5875 11.49 15.5675 11.49 15.5375C11.49 15.5375 11.49 15.5375 11.49 15.5475C11.49 15.5175 11.49 15.4875 11.49 15.4575C11.49 15.4575 11.49 15.4575 11.49 15.4675C11.49 15.4575 11.49 15.4375 11.49 15.4275V15.4575C11.49 15.4575 11.49 15.3975 11.49 15.3575C11.51 14.5175 11.42 13.6775 11.34 12.8475C11.42 12.6775 11.46 12.4875 11.44 12.2875C11.42 11.9775 11.4 11.6675 11.39 11.3475C11.57 11.3475 11.75 11.3475 11.93 11.3475C13.03 11.3475 14.14 11.2575 15.24 11.3475C15.38 11.3675 15.52 11.3775 15.66 11.3675H15.69C16.16 11.3275 16.51 10.8875 16.46 10.4275C16.42 9.9975 16.06 9.69751 15.64 9.65751C15.51 9.64751 15.39 9.6575 15.26 9.6675C15.19 9.6775 15.11 9.68751 15.04 9.68751C14.87 9.68751 14.7 9.7075 14.53 9.7075C14.53 9.7075 14.54 9.7075 14.55 9.7075C14.2 9.7175 13.86 9.7075 13.51 9.7075C12.8 9.6975 12.1 9.68751 11.39 9.68751C11.4 9.33751 11.42 8.9875 11.43 8.6375C11.43 8.1775 11.43 7.71751 11.43 7.25751V7.36751C11.43 6.93751 11.41 6.50751 11.41 6.08751C11.41 5.83751 11.41 5.5975 11.39 5.3475C11.39 5.2675 11.39 5.1875 11.37 5.0975C11.37 5.0575 11.36 5.01751 11.35 4.97751C11.36 4.89751 11.36 4.81751 11.35 4.73751C11.32 4.51751 11.19 4.32751 11.01 4.19751C10.99 4.08751 10.97 3.9675 10.96 3.8575C10.87 3.3075 10.76 2.47751 10.14 2.28751C10.03 2.24751 9.91 2.22751 9.78 2.23751C9.65 2.24751 9.54 2.27751 9.43 2.32751C9.43 2.32751 9.43 2.32751 9.44 2.32751C9.06 2.48751 8.9 2.91751 8.83 3.28751C8.74 3.75751 8.71 4.2275 8.69 4.7075C8.67 5.0675 8.66 5.4175 8.66 5.7775C8.66 6.1075 8.69 6.43751 8.72 6.76751C8.74 7.06751 8.76 7.3775 8.8 7.6775C8.87 8.3475 8.93001 9.02751 8.99001 9.69751H8.79C8.38 9.69751 7.97001 9.69751 7.56001 9.69751C7.11001 9.69751 6.66 9.69751 6.21 9.69751C5.92 9.69751 5.62 9.70751 5.34 9.73751C5.28 9.73751 5.22 9.73751 5.16 9.73751C4.99 9.74751 4.8 9.7575 4.66 9.8175C4.66 9.8175 4.67 9.8175 4.68 9.8175C4.37 9.9375 4.16 10.2375 4.19 10.5875C4.22 10.8875 4.43 11.1275 4.71 11.2075H4.72C4.72 11.2075 4.75 11.2075 4.76 11.2175C4.8 11.2175 4.83 11.2375 4.87 11.2375C4.96 11.2475 5.04 11.2575 5.12 11.2575C5.26 11.2675 5.4 11.2875 5.54 11.2975C5.93 11.3175 6.31 11.3175 6.7 11.3175C7.51 11.3175 8.32 11.3175 9.13 11.3175C9.16 11.6975 9.18 12.0775 9.2 12.4575C9.22 12.8175 9.44001 13.1375 9.74001 13.3175C9.71001 13.7475 9.68 14.1775 9.68 14.6075C9.68 14.8075 9.68 15.0075 9.68 15.1975C9.19 15.4575 8.86 15.9775 8.89 16.5675V16.5975Z"
										fill="#1F435F"
									/>
									<path
										d="M11.15 4.57751C11.15 4.57751 11.18 4.60751 11.19 4.62751C11.19 4.63751 11.21 4.6575 11.21 4.6675C11.19 4.6375 11.17 4.5975 11.14 4.5675L11.15 4.57751Z"
										fill="#1F435F"
									/>
									<path
										d="M10.51 2.58751C10.51 2.58751 10.51 2.5875 10.51 2.5975C10.51 2.5975 10.51 2.58751 10.5 2.58751H10.51Z"
										fill="#1F435F"
									/>
									<path
										d="M9.11 2.6575C9.11 2.6575 9.11 2.6575 9.12 2.6575C9.12 2.6575 9.11 2.6675 9.11 2.6775C9.11 2.6775 9.11 2.6775 9.11 2.6675V2.6575Z"
										fill="#1F435F"
									/>
									<path
										d="M9.96 18.3175C9.78 18.1975 9.64 18.0475 9.53 17.8775C8.22 17.1275 8.14 15.1075 8.95 13.9475C8.95 13.8975 8.95 13.8375 8.95 13.7875C8.95 13.5875 8.98 13.3875 9.02 13.1875C8.84 12.5975 8.81 11.9775 8.79 11.3475H9.45C9.56 11.3475 9.67 11.3475 9.77 11.3475C9.77 11.7475 9.78 12.1475 9.79 12.5475C9.79 12.7275 9.77 12.8975 9.76 13.0775C9.76 13.0875 9.76 13.0975 9.76 13.1075V13.0875C9.76 13.0875 9.76 13.1075 9.76 13.1175C9.76 13.1375 9.76 13.1475 9.76 13.1675C9.76 13.1675 9.76 13.1875 9.76 13.1975V13.1775C9.72 13.6675 9.68 14.1575 9.68 14.6475C9.68 14.8775 9.68 15.1075 9.68 15.3275C9.68 15.4775 9.69 15.6375 9.71 15.7875C9.73 15.9175 9.75 16.0675 9.79 16.1975C9.91 16.5375 10.22 16.7875 10.59 16.7875C10.61 16.7875 10.62 16.7875 10.64 16.7875C10.96 16.7675 11.28 16.5575 11.39 16.2375C11.46 16.0175 11.48 15.7875 11.49 15.5675C11.49 15.5675 11.49 15.5675 11.49 15.5775C11.49 15.5775 11.49 15.5775 11.49 15.5675C11.49 15.5475 11.49 15.5275 11.49 15.4975C11.49 15.4975 11.49 15.4975 11.49 15.4875C11.49 15.4875 11.49 15.4875 11.49 15.4975C11.49 15.4875 11.49 15.4675 11.49 15.4575V15.4875C11.49 15.4875 11.49 15.4175 11.49 15.3875C11.51 14.5475 11.42 13.7075 11.34 12.8675C11.33 12.7175 11.31 12.5775 11.3 12.4275C11.3 12.0775 11.32 11.7375 11.32 11.3875C11.52 11.3875 11.72 11.3875 11.93 11.3875C12.01 11.3875 12.09 11.3875 12.16 11.3875C12.27 11.6375 12.23 11.9375 12.04 12.1775C12.02 12.1975 12.01 12.2175 12 12.2275C12 12.4275 11.91 12.6375 11.8 12.7975C11.82 12.8975 11.82 12.9975 11.8 13.0975C11.8 13.1475 11.79 13.1975 11.78 13.2475C12.16 13.6575 12.28 14.2475 12.09 14.7875C12.07 14.8375 12.05 14.8975 12.02 14.9475C12.33 15.2775 12.48 15.7375 12.43 16.1875C12.43 16.2975 12.39 16.3975 12.37 16.5075C12.75 17.5475 11.84 18.5775 10.87 18.6375C10.85 18.6375 10.82 18.6375 10.8 18.6375C10.51 18.6375 10.22 18.5575 9.96 18.3575V18.3175Z"
										fill="#1F435F"
									/>
									<path
										d="M7.97 5.87752C7.65 5.19752 7.93 4.39752 8.31 3.79752C8.57 3.12752 8.97 2.35751 9.69 2.09751C11.31 1.55751 12.52 3.68752 11.63 4.98752C12.01 5.56752 12.02 6.31752 11.77 6.94752C11.91 7.40752 11.74 7.83751 11.71 8.27751C11.82 8.49751 11.88 8.72751 11.89 8.96751C12.05 9.19751 12.16 9.45751 12.2 9.71751C11.93 9.71751 11.66 9.71751 11.39 9.71751C11.4 9.36751 11.42 9.01751 11.43 8.66751C11.43 8.20751 11.43 7.74751 11.43 7.28751V7.39751C11.43 6.96751 11.41 6.53752 11.41 6.11752C11.41 5.86752 11.41 5.62752 11.39 5.37752C11.39 5.29752 11.39 5.21752 11.37 5.12752C11.37 5.08752 11.35 5.03752 11.35 5.00752C11.36 4.92752 11.36 4.84751 11.35 4.77751C11.29 4.38751 10.94 4.08751 10.54 4.09751C10.51 4.09751 10.49 4.09751 10.46 4.09751C10.38 4.09751 10.3 4.12751 10.23 4.16751C9.94 4.29751 9.74 4.58751 9.75 4.91751C9.75 4.95751 9.75 4.98752 9.75 5.01752C9.68 5.31752 9.69 5.64752 9.69 5.94752C9.69 6.23752 9.69 6.51752 9.69 6.80752V6.78751C9.68 7.26751 9.68001 7.74752 9.67001 8.23752C9.67001 8.73752 9.69 9.23752 9.7 9.72752C9.39 9.72752 9.09 9.72752 8.78 9.72752C8.73 9.72752 8.69 9.72752 8.64 9.72752C8.14 8.55752 7.7 7.16752 7.96 5.86752L7.97 5.87752Z"
										fill="#1F435F"
									/>
									<path
										d="M11.18 4.60751C11.18 4.60751 11.19 4.61751 11.2 4.62751C11.2 4.62751 11.22 4.66751 11.23 4.67751C11.21 4.64751 11.2 4.6175 11.18 4.5975V4.60751Z"
										fill="#1F435F"
									/>
								</svg>
							</button>
						</div>
						<div class="w-full h-full grid justify-center items-center">
							<p class="lilletekst">
								{item.price * item.quantity * countValue} kr.
							</p>
						</div>
					</div>
				{/if}
			{/each}
		</div>

		<div class="border-lightblue border-t-2" />
		<p class="font-semibold pb-2 mellemtekst pt-4">Tilkøb</p>
		<div class=" md:grid-rows gap-2 justify-between">
			{#each $cart as item}
				{#if item.quantity > 0 && item.type == 't'}
					<div class="cart-item gap-2 pt-2 md:pt-0">
						<img
							class="w-full h-full aspect-square mindrebillede"
							width=""
							src={item.image}
							alt={item.name}
						/>
						<p class="grid items-center lilletekst">{item.title}</p>
						<div class="flex gap-1 justify-end items-center  m-auto">
							<button
								class="place-content-center grid justify-center items-center "
								on:click={() => minusItem(item)}
							>
								<svg
									width="12"
									height="12"
									viewBox="0 0 22 21"
									fill="none"
									xmlns="http://www.w3.org/2000/svg"
								>
									<path
										d="M12.1084 11.5179C12.2184 11.5179 12.3384 11.5179 12.4484 11.5179C12.3484 11.6279 12.2384 11.7179 12.1184 11.8079C12.1184 11.7079 12.1184 11.6179 12.1084 11.5179Z"
										fill="#1F435F"
									/>
									<path
										d="M12.0584 9.86787C12.0584 9.47787 12.0484 9.09787 12.0384 8.70787C12.0384 8.67787 12.0384 8.64787 12.0384 8.61787C12.0384 8.61787 12.0384 8.61787 12.0384 8.60787C12.0384 8.59787 12.0384 8.57787 12.0384 8.56787C12.4784 8.86787 12.7984 9.34787 12.8984 9.86787C12.6184 9.86787 12.3384 9.86787 12.0584 9.86787Z"
										fill="#1F435F"
									/>
									<path
										d="M9.55844 11.5079C9.64844 11.5079 9.74844 11.5079 9.83844 11.5079C9.83844 11.6079 9.84844 11.7079 9.85844 11.7979C9.74844 11.7079 9.64844 11.6079 9.55844 11.5079Z"
										fill="#1F435F"
									/>
									<path
										d="M9.50843 9.87787C9.37843 9.87787 9.23844 9.87787 9.10844 9.87787C9.17844 9.48787 9.35843 9.14787 9.61843 8.87787C9.64843 9.20787 9.67844 9.53787 9.70844 9.86787C9.63844 9.86787 9.57843 9.86787 9.50843 9.86787V9.87787Z"
										fill="#1F435F"
									/>
									<path
										d="M0.708435 10.4779C1.03844 -3.30213 21.1584 -3.28213 21.4484 10.5079C21.2984 17.1079 16.6084 20.5479 11.7384 20.8179C6.41843 21.1179 0.868437 17.6679 0.718437 10.4679L0.708435 10.4779ZM9.59843 16.7479C9.63843 17.5379 10.3384 18.1779 11.1284 18.1279C11.9284 18.0779 12.5584 17.3979 12.5084 16.5979C12.4684 15.8079 11.7684 15.1679 10.9784 15.2179C10.1784 15.2679 9.54843 15.9479 9.59843 16.7479ZM9.90844 12.6379C9.93844 13.2379 10.5084 13.6979 11.0884 13.6679C11.0984 13.6679 11.1084 13.6679 11.1284 13.6679C11.7484 13.6179 12.1984 13.0679 12.1584 12.4479C12.1384 12.1379 12.1184 11.8179 12.1084 11.5079C12.2884 11.5079 12.4684 11.5079 12.6384 11.5079C13.7384 11.5079 14.8484 11.4179 15.9484 11.5079C16.0884 11.5179 16.2284 11.5379 16.3684 11.5279C16.3684 11.5279 16.3884 11.5279 16.3984 11.5279C16.8684 11.4979 17.2084 11.0479 17.1684 10.5879C17.1284 10.1579 16.7684 9.84787 16.3484 9.81787C16.2184 9.80787 16.0984 9.81787 15.9784 9.82787C15.9084 9.82787 15.8284 9.84787 15.7584 9.84787C15.5684 9.84787 15.3684 9.86787 15.1784 9.87787C15.2184 9.87787 15.2484 9.87787 15.2884 9.87787C14.9284 9.88787 14.5784 9.87787 14.2284 9.87787C13.5084 9.86787 12.7884 9.85787 12.0584 9.85787C12.0584 9.43787 12.0384 9.01787 12.0384 8.59787C12.0384 8.64787 12.0384 8.70787 12.0384 8.75787C12.0384 8.62787 12.0384 8.50787 12.0384 8.37787C12.0284 8.00787 12.0384 7.63787 12.0184 7.27787C11.9984 6.86787 12.0084 6.44787 11.9684 6.03787C11.9084 5.36787 11.7884 4.70787 11.6884 4.04787C11.5984 3.49787 11.4984 2.66787 10.8684 2.46787C10.7584 2.42787 10.6384 2.40787 10.5184 2.41787C10.3984 2.41787 10.2784 2.45787 10.1684 2.50787C10.1684 2.50787 10.1684 2.50787 10.1784 2.50787C9.80844 2.66787 9.64844 3.09787 9.56844 3.46787C9.47844 3.93787 9.44844 4.40787 9.42844 4.88787C9.40844 5.24787 9.39843 5.59787 9.39843 5.95787C9.39843 6.28787 9.42844 6.61787 9.45844 6.94787C9.47844 7.29787 9.50844 7.65787 9.55844 8.01787C9.55844 7.95787 9.54844 7.90787 9.53844 7.84787C9.60844 8.52787 9.66844 9.20787 9.72844 9.87787C9.65844 9.87787 9.59843 9.87787 9.52843 9.87787C8.66843 9.87787 7.80844 9.85787 6.94844 9.87787C6.65844 9.87787 6.35843 9.87787 6.07843 9.91787C6.01843 9.91787 5.95843 9.91787 5.89843 9.92787C5.72843 9.92787 5.53843 9.94787 5.39843 10.0079C5.39843 10.0079 5.40843 10.0079 5.41843 10.0079C5.10843 10.1179 4.89844 10.4279 4.92844 10.7779C4.95844 11.0779 5.16844 11.3179 5.44844 11.3979C5.45844 11.3979 5.47843 11.3979 5.48843 11.4079C5.52843 11.4079 5.56843 11.4279 5.59843 11.4279C5.67843 11.4379 5.76843 11.4379 5.84843 11.4479C5.98843 11.4579 6.12844 11.4779 6.26844 11.4879C6.64844 11.5179 7.03844 11.5079 7.42844 11.5079C8.23844 11.5079 9.04844 11.5079 9.85844 11.5079C9.88844 11.8879 9.90844 12.2679 9.92844 12.6479L9.90844 12.6379Z"
										fill="#1F435F"
									/>
									<path
										d="M11.2184 2.73788C11.2184 2.73788 11.2184 2.73788 11.2184 2.74788C11.2184 2.74788 11.2184 2.73788 11.2084 2.73788H11.2184Z"
										fill="#1F435F"
									/>
									<path
										d="M9.81844 2.80788C9.81844 2.80788 9.81843 2.80788 9.82843 2.80788C9.82843 2.80788 9.81844 2.81787 9.81844 2.82787C9.81844 2.82787 9.81844 2.82787 9.81844 2.81787V2.80788Z"
										fill="#1F435F"
									/>
									<path
										d="M10.6684 18.4679C10.4884 18.3479 10.3484 18.1979 10.2384 18.0279C8.92844 17.2879 8.84844 15.2579 9.65844 14.0979C9.65844 14.0479 9.65844 13.9879 9.65844 13.9379C9.65844 13.7379 9.68844 13.5379 9.73844 13.3379C9.55844 12.7479 9.52844 12.1179 9.49844 11.4979C9.71844 11.4979 9.93844 11.4979 10.1684 11.4979C10.9984 11.4979 11.8284 11.4979 12.6484 11.4979C12.7284 11.4979 12.8084 11.4979 12.8884 11.4979C12.9984 11.7479 12.9584 12.0479 12.7684 12.2779C12.7584 12.2979 12.7384 12.3179 12.7284 12.3279C12.7284 12.5279 12.6484 12.7279 12.5284 12.8979C12.5484 12.9979 12.5484 13.0979 12.5284 13.1979C12.5284 13.2479 12.5184 13.2979 12.5084 13.3479C12.8884 13.7579 13.0084 14.3479 12.8184 14.8879C12.7984 14.9479 12.7784 14.9979 12.7484 15.0479C13.0584 15.3779 13.2084 15.8279 13.1584 16.2879C13.1584 16.3979 13.1284 16.5079 13.0984 16.6079C13.4684 17.6479 12.5684 18.6779 11.5984 18.7379C11.2884 18.7579 10.9684 18.6779 10.6784 18.4679H10.6684Z"
										fill="#1F435F"
									/>
									<path
										d="M9.50843 9.88786C9.50843 9.88786 9.40843 9.88786 9.36843 9.88786C8.86843 8.71786 8.42844 7.32786 8.67844 6.03786C8.35844 5.36786 8.64844 4.55786 9.01844 3.95786C9.27844 3.28786 9.68844 2.51786 10.4084 2.25786C12.0284 1.72786 13.2384 3.84786 12.3484 5.14786C12.7184 5.72786 12.7284 6.47786 12.4884 7.10786C12.6284 7.57786 12.4584 7.99786 12.4284 8.43786C12.5384 8.65786 12.5984 8.88787 12.6084 9.12787C12.7684 9.35787 12.8684 9.61787 12.9184 9.87787C11.7784 9.87787 10.6484 9.87787 9.50843 9.87787V9.88786Z"
										fill="#1F435F"
									/>
								</svg>
							</button>
							<div class="lilletekst">
								{item.quantity}
							</div>
							<button
								class="place-content-center grid justify-center items-center"
								on:click={() => plusItem(item)}
							>
								<svg
									width="12"
									height="12"
									viewBox="0 0 21 21"
									fill="none"
									xmlns="http://www.w3.org/2000/svg"
								>
									<path
										d="M11.4 11.3675C11.51 11.3675 11.63 11.3675 11.74 11.3675C11.64 11.4775 11.53 11.5675 11.41 11.6575C11.41 11.5575 11.41 11.4675 11.4 11.3675Z"
										fill="#1F435F"
									/>
									<path
										d="M11.39 9.72751C11.4 9.37751 11.42 9.02751 11.43 8.67751C11.43 8.61751 11.43 8.56751 11.43 8.50751C11.81 8.80751 12.09 9.24751 12.19 9.72751C11.92 9.72751 11.66 9.72751 11.39 9.72751V9.72751Z"
										fill="#1F435F"
									/>
									<path
										d="M8.85001 9.35751C8.94001 9.35751 9.04 9.35751 9.13 9.35751C9.13 9.45751 9.14 9.55752 9.15 9.64752C9.04 9.55752 8.94001 9.45751 8.85001 9.35751V9.35751Z"
										fill="#1F435F"
									/>
									<path
										d="M8.8 9.73752C8.67 9.73752 8.53 9.73752 8.4 9.73752C8.47 9.34752 8.65 9.00752 8.91 8.73752C8.94 9.06752 8.97 9.39752 9 9.72752C8.93 9.72752 8.87 9.72752 8.8 9.72752V9.73752Z"
										fill="#1F435F"
									/>
									<path
										d="M0 10.3275C0.33 -3.45249 20.45 -3.4425 20.74 10.3575C20.59 16.9575 15.9 20.3975 11.03 20.6775C10.82 20.6875 10.6 20.6975 10.39 20.6975C5.27 20.6975 0.15 17.2375 0 10.3275ZM8.89 16.5975C8.93 17.3875 9.63 18.0275 10.43 17.9775C11.23 17.9375 11.86 17.2475 11.81 16.4375C11.79 16.1275 11.68 15.8375 11.49 15.6075C11.49 15.5875 11.49 15.5675 11.49 15.5375C11.49 15.5375 11.49 15.5375 11.49 15.5475C11.49 15.5175 11.49 15.4875 11.49 15.4575C11.49 15.4575 11.49 15.4575 11.49 15.4675C11.49 15.4575 11.49 15.4375 11.49 15.4275V15.4575C11.49 15.4575 11.49 15.3975 11.49 15.3575C11.51 14.5175 11.42 13.6775 11.34 12.8475C11.42 12.6775 11.46 12.4875 11.44 12.2875C11.42 11.9775 11.4 11.6675 11.39 11.3475C11.57 11.3475 11.75 11.3475 11.93 11.3475C13.03 11.3475 14.14 11.2575 15.24 11.3475C15.38 11.3675 15.52 11.3775 15.66 11.3675H15.69C16.16 11.3275 16.51 10.8875 16.46 10.4275C16.42 9.9975 16.06 9.69751 15.64 9.65751C15.51 9.64751 15.39 9.6575 15.26 9.6675C15.19 9.6775 15.11 9.68751 15.04 9.68751C14.87 9.68751 14.7 9.7075 14.53 9.7075C14.53 9.7075 14.54 9.7075 14.55 9.7075C14.2 9.7175 13.86 9.7075 13.51 9.7075C12.8 9.6975 12.1 9.68751 11.39 9.68751C11.4 9.33751 11.42 8.9875 11.43 8.6375C11.43 8.1775 11.43 7.71751 11.43 7.25751V7.36751C11.43 6.93751 11.41 6.50751 11.41 6.08751C11.41 5.83751 11.41 5.5975 11.39 5.3475C11.39 5.2675 11.39 5.1875 11.37 5.0975C11.37 5.0575 11.36 5.01751 11.35 4.97751C11.36 4.89751 11.36 4.81751 11.35 4.73751C11.32 4.51751 11.19 4.32751 11.01 4.19751C10.99 4.08751 10.97 3.9675 10.96 3.8575C10.87 3.3075 10.76 2.47751 10.14 2.28751C10.03 2.24751 9.91 2.22751 9.78 2.23751C9.65 2.24751 9.54 2.27751 9.43 2.32751C9.43 2.32751 9.43 2.32751 9.44 2.32751C9.06 2.48751 8.9 2.91751 8.83 3.28751C8.74 3.75751 8.71 4.2275 8.69 4.7075C8.67 5.0675 8.66 5.4175 8.66 5.7775C8.66 6.1075 8.69 6.43751 8.72 6.76751C8.74 7.06751 8.76 7.3775 8.8 7.6775C8.87 8.3475 8.93001 9.02751 8.99001 9.69751H8.79C8.38 9.69751 7.97001 9.69751 7.56001 9.69751C7.11001 9.69751 6.66 9.69751 6.21 9.69751C5.92 9.69751 5.62 9.70751 5.34 9.73751C5.28 9.73751 5.22 9.73751 5.16 9.73751C4.99 9.74751 4.8 9.7575 4.66 9.8175C4.66 9.8175 4.67 9.8175 4.68 9.8175C4.37 9.9375 4.16 10.2375 4.19 10.5875C4.22 10.8875 4.43 11.1275 4.71 11.2075H4.72C4.72 11.2075 4.75 11.2075 4.76 11.2175C4.8 11.2175 4.83 11.2375 4.87 11.2375C4.96 11.2475 5.04 11.2575 5.12 11.2575C5.26 11.2675 5.4 11.2875 5.54 11.2975C5.93 11.3175 6.31 11.3175 6.7 11.3175C7.51 11.3175 8.32 11.3175 9.13 11.3175C9.16 11.6975 9.18 12.0775 9.2 12.4575C9.22 12.8175 9.44001 13.1375 9.74001 13.3175C9.71001 13.7475 9.68 14.1775 9.68 14.6075C9.68 14.8075 9.68 15.0075 9.68 15.1975C9.19 15.4575 8.86 15.9775 8.89 16.5675V16.5975Z"
										fill="#1F435F"
									/>
									<path
										d="M11.15 4.57751C11.15 4.57751 11.18 4.60751 11.19 4.62751C11.19 4.63751 11.21 4.6575 11.21 4.6675C11.19 4.6375 11.17 4.5975 11.14 4.5675L11.15 4.57751Z"
										fill="#1F435F"
									/>
									<path
										d="M10.51 2.58751C10.51 2.58751 10.51 2.5875 10.51 2.5975C10.51 2.5975 10.51 2.58751 10.5 2.58751H10.51Z"
										fill="#1F435F"
									/>
									<path
										d="M9.11 2.6575C9.11 2.6575 9.11 2.6575 9.12 2.6575C9.12 2.6575 9.11 2.6675 9.11 2.6775C9.11 2.6775 9.11 2.6775 9.11 2.6675V2.6575Z"
										fill="#1F435F"
									/>
									<path
										d="M9.96 18.3175C9.78 18.1975 9.64 18.0475 9.53 17.8775C8.22 17.1275 8.14 15.1075 8.95 13.9475C8.95 13.8975 8.95 13.8375 8.95 13.7875C8.95 13.5875 8.98 13.3875 9.02 13.1875C8.84 12.5975 8.81 11.9775 8.79 11.3475H9.45C9.56 11.3475 9.67 11.3475 9.77 11.3475C9.77 11.7475 9.78 12.1475 9.79 12.5475C9.79 12.7275 9.77 12.8975 9.76 13.0775C9.76 13.0875 9.76 13.0975 9.76 13.1075V13.0875C9.76 13.0875 9.76 13.1075 9.76 13.1175C9.76 13.1375 9.76 13.1475 9.76 13.1675C9.76 13.1675 9.76 13.1875 9.76 13.1975V13.1775C9.72 13.6675 9.68 14.1575 9.68 14.6475C9.68 14.8775 9.68 15.1075 9.68 15.3275C9.68 15.4775 9.69 15.6375 9.71 15.7875C9.73 15.9175 9.75 16.0675 9.79 16.1975C9.91 16.5375 10.22 16.7875 10.59 16.7875C10.61 16.7875 10.62 16.7875 10.64 16.7875C10.96 16.7675 11.28 16.5575 11.39 16.2375C11.46 16.0175 11.48 15.7875 11.49 15.5675C11.49 15.5675 11.49 15.5675 11.49 15.5775C11.49 15.5775 11.49 15.5775 11.49 15.5675C11.49 15.5475 11.49 15.5275 11.49 15.4975C11.49 15.4975 11.49 15.4975 11.49 15.4875C11.49 15.4875 11.49 15.4875 11.49 15.4975C11.49 15.4875 11.49 15.4675 11.49 15.4575V15.4875C11.49 15.4875 11.49 15.4175 11.49 15.3875C11.51 14.5475 11.42 13.7075 11.34 12.8675C11.33 12.7175 11.31 12.5775 11.3 12.4275C11.3 12.0775 11.32 11.7375 11.32 11.3875C11.52 11.3875 11.72 11.3875 11.93 11.3875C12.01 11.3875 12.09 11.3875 12.16 11.3875C12.27 11.6375 12.23 11.9375 12.04 12.1775C12.02 12.1975 12.01 12.2175 12 12.2275C12 12.4275 11.91 12.6375 11.8 12.7975C11.82 12.8975 11.82 12.9975 11.8 13.0975C11.8 13.1475 11.79 13.1975 11.78 13.2475C12.16 13.6575 12.28 14.2475 12.09 14.7875C12.07 14.8375 12.05 14.8975 12.02 14.9475C12.33 15.2775 12.48 15.7375 12.43 16.1875C12.43 16.2975 12.39 16.3975 12.37 16.5075C12.75 17.5475 11.84 18.5775 10.87 18.6375C10.85 18.6375 10.82 18.6375 10.8 18.6375C10.51 18.6375 10.22 18.5575 9.96 18.3575V18.3175Z"
										fill="#1F435F"
									/>
									<path
										d="M7.97 5.87752C7.65 5.19752 7.93 4.39752 8.31 3.79752C8.57 3.12752 8.97 2.35751 9.69 2.09751C11.31 1.55751 12.52 3.68752 11.63 4.98752C12.01 5.56752 12.02 6.31752 11.77 6.94752C11.91 7.40752 11.74 7.83751 11.71 8.27751C11.82 8.49751 11.88 8.72751 11.89 8.96751C12.05 9.19751 12.16 9.45751 12.2 9.71751C11.93 9.71751 11.66 9.71751 11.39 9.71751C11.4 9.36751 11.42 9.01751 11.43 8.66751C11.43 8.20751 11.43 7.74751 11.43 7.28751V7.39751C11.43 6.96751 11.41 6.53752 11.41 6.11752C11.41 5.86752 11.41 5.62752 11.39 5.37752C11.39 5.29752 11.39 5.21752 11.37 5.12752C11.37 5.08752 11.35 5.03752 11.35 5.00752C11.36 4.92752 11.36 4.84751 11.35 4.77751C11.29 4.38751 10.94 4.08751 10.54 4.09751C10.51 4.09751 10.49 4.09751 10.46 4.09751C10.38 4.09751 10.3 4.12751 10.23 4.16751C9.94 4.29751 9.74 4.58751 9.75 4.91751C9.75 4.95751 9.75 4.98752 9.75 5.01752C9.68 5.31752 9.69 5.64752 9.69 5.94752C9.69 6.23752 9.69 6.51752 9.69 6.80752V6.78751C9.68 7.26751 9.68001 7.74752 9.67001 8.23752C9.67001 8.73752 9.69 9.23752 9.7 9.72752C9.39 9.72752 9.09 9.72752 8.78 9.72752C8.73 9.72752 8.69 9.72752 8.64 9.72752C8.14 8.55752 7.7 7.16752 7.96 5.86752L7.97 5.87752Z"
										fill="#1F435F"
									/>
									<path
										d="M11.18 4.60751C11.18 4.60751 11.19 4.61751 11.2 4.62751C11.2 4.62751 11.22 4.66751 11.23 4.67751C11.21 4.64751 11.2 4.6175 11.18 4.5975V4.60751Z"
										fill="#1F435F"
									/>
								</svg>
							</button>
						</div>
						<div class="w-full h-full grid justify-center items-center">
							<p class="lilletekst">
								{item.price * item.quantity} kr.
							</p>
						</div>
					</div>
				{/if}
			{/each}
		</div>
	</div>

	<div class="total hidden md:block">
		<h4 class="font-bold">
			Total: {total} kr.
		</h4>
	</div>
</section>

<style>
	.cart-item {
		display: grid;
		grid-template-columns: 1fr 1fr 1fr 1fr;
	}

	.total {
		text-align: right;
	}

	.skygge {
		box-shadow: 7px 7px 0px 2px #e5f1f9;
	}

	.mindrebillede {
		width: 30px;
		height: 30px;
	}

	#mobilevers {
		height: 100%;
	}

	@media only screen and (max-width: 768px) {
		/* For mobile phones: */
		#mobilevers {
			position: fixed;
			bottom: 80px;
			width: 100vw;
			height: 11vh;
			transition: 300ms;
			left: 0;
			z-index: 50;
		}
	}

	@media only screen and (min-width: 768px) {
		/* For mobile phones: */
		#mobilevers {
			height: 100%;
		}
	}
</style>
